<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Test deg selv i gangetabellen</title>
    <style>
        #poengDIV {
            text-align: center;
        }
        #stage {
            width: 400px;
            height: 600px;
            background-color: darkblue;
            border: 10px solid lightgray;
            margin: auto;
            position: relative;
            overflow: hidden;
        }
        #regnestykke {
            position: absolute;
            width: 300px;
            height: 60px;
            left: 50px;
            background-color: lemonchiffon;
            border: 5px solid gray;
            text-align: center;
            font-size: 48px;
        }
        #inpSvar {
            position: absolute;
            bottom: 0;
            border: none;
            outline-style: none;
            width: 100%;
            height: 40px;
            text-align: center;
            font-family: sans-serif;
            font-size: 22px;
        }
    </style>
</head>
<body>

    <input type="text" id="inpUser" placeholder="NICKNAME">

    <div id="poengDIV">0</div>
    <div id="stage">

        <div id="regnestykke">2 x 2</div>
        <input type="text" id="inpSvar">

    </div>



    <script src="https://www.gstatic.com/firebasejs/3.7.2/firebase.js"></script>
    <script>
        // Initialize Firebase
        var config = {
            apiKey: "AIzaSyD7FS8R-au_1gSp57YuQIjiAGIoZL5rUZw",
            authDomain: "min-database.firebaseapp.com",
            databaseURL: "https://min-database.firebaseio.com",
            storageBucket: "min-database.appspot.com",
            messagingSenderId: "614855754958"
        };
        firebase.initializeApp(config);
    </script>

    <script src="https://cdn.firebase.com/libs/firebaseui/1.0.0/firebaseui.js"></script>
    <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/1.0.0/firebaseui.css" />


    <script>
        let regnestykke = document.getElementById("regnestykke");
        let inpSvar = document.getElementById("inpSvar");
        let poengDIV = document.getElementById("poengDIV");
        let inpUser = document.getElementById("inpUser");



        inpSvar.focus();

        let fasit = 4;
        let poeng = 0;
        let tid = 4000;

        let keyframes = [
            {transform: "translateY(-50px)"},
            {transform: "translateY(490px)"}
        ];
        let settings = {
            duration: tid,
            fill: "forwards"
        };


        let animasjon = regnestykke.animate(keyframes, settings);

        function lagOppgave() {

            poeng++;
            poengDIV.innerHTML = poeng;

            var faktor1 = Math.ceil(Math.random() * 10);
            var faktor2 = Math.ceil(Math.random() * 10);

            fasit = faktor1 * faktor2;

            animasjon.cancel();

            regnestykke.innerHTML = faktor1 + " x " + faktor2;
            animasjon = regnestykke.animate(keyframes, settings);

            animasjon.onfinish = function() {
                poeng = 0;
            }
        }

        function sjekkSvar() {

            if(Number(this.value) === fasit) {
                this.value = "";
                lagOppgave();

            }
        }

        inpSvar.oninput = sjekkSvar;


    </script>
</body>
</html>